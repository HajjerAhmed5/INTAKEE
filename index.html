<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>INTAKEE — Videos, Podcasts, and Clips</title>
  <meta name="description" content="INTAKEE is the all-in-one platform for videos, podcasts, and clips — freedom to create, simple to share.">
  <link rel="canonical" href="https://intakee.vercel.app/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="INTAKEE — Videos, Podcasts, and Clips">
  <meta property="og:description" content="All-in-one platform for videos, podcasts, and clips.">
  <meta property="og:url" content="https://intakee.vercel.app/">
  <meta property="og:image" content="/og-image.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="stylesheet" href="style.css">
</head>

<body class="dark">
  <!-- ===== HEADER ===== -->
  <header>
    <div class="brand"><img src="logo.png" alt="INTAKEE"></div>
    <div class="spacer"></div>
    <div id="searchWrap" class="search-bar">
      <i class="fa fa-search"></i>
      <input id="globalSearch" type="text" placeholder="Search…">
    </div>
    <div class="auth">
      <button id="openAuth">Login / Sign Up</button>
    </div>
  </header>

  <!-- ===== MAIN CONTENT ===== -->
  <main>

    <!-- HOME -->
    <section id="tab-home">
      <div class="row space-between">
        <h2>Trending</h2>
        <div class="pills">
          <button class="pill active" data-filter="all">All</button>
          <button class="pill" data-filter="video">Videos</button>
          <button class="pill" data-filter="podcast">Podcasts</button>
          <button class="pill" data-filter="clip">Clips</button>
          <button class="pill" data-filter="new">Newest</button>
        </div>
      </div>
      <div id="home-feed" class="feed-grid"></div>
    </section>

    <!-- VIDEOS -->
    <section id="tab-videos" style="display:none;">
      <div class="section-head">
        <h3>Videos</h3>
        <div class="section-search">
          <i class="fa fa-search"></i>
          <input id="videosSearch" type="text" placeholder="Search videos…">
        </div>
      </div>
      <div id="videos-feed" class="feed-grid"></div>
    </section>

    <!-- PODCASTS -->
    <section id="tab-podcast" style="display:none;">
      <div class="section-head">
        <h3>Podcasts</h3>
        <div class="section-search">
          <i class="fa fa-search"></i>
          <input id="podcastSearch" type="text" placeholder="Search podcasts…">
        </div>
      </div>
      <div id="podcast-feed" class="podcast-list"></div>
    </section>

    <!-- UPLOAD -->
    <section id="tab-upload" class="card" style="display:none;">
      <h3>Upload</h3>
      <div class="upload-form">
        <label>Choose type</label>
        <select id="uploadTypeSelect">
          <option value="video">Video</option>
          <option value="clip">Clip</option>
          <option value="podcast-audio">Podcast (Audio)</option>
          <option value="podcast-video">Podcast (Video)</option>
        </select>

        <label>Title</label>
        <input id="uploadTitleInput" type="text" placeholder="Add a title">

        <label>Description</label>
        <textarea id="uploadDescInput" placeholder="Describe your upload…" rows="4"></textarea>

        <label>Thumbnail (cover image)</label>
        <input id="uploadThumbInput" type="file" accept="image/*">

        <label>File</label>
        <input id="uploadFileInput" type="file" accept="video/*,audio/*">

        <div class="row">
          <label style="display:flex;align-items:center;gap:8px;">
            <input type="checkbox" id="ageRestricted">
            <span>Mark as Age Restricted (18+)</span>
          </label>
        </div>

        <div class="row">
          <button id="btnUpload" class="primary">Upload</button>
          <button id="goLiveBtn" class="ghost">Go Live</button>
        </div>
      </div>
    </section>

    <!-- CLIPS -->
    <section id="tab-clips" style="display:none;">
      <div class="section-head">
        <h3>Clips</h3>
        <div class="section-search">
          <i class="fa fa-search"></i>
          <input id="clipsSearch" type="text" placeholder="Search clips…">
        </div>
      </div>
      <div id="clips-feed" class="clip-feed"></div>
    </section>

    <!-- PROFILE -->
    <section id="tab-profile" style="display:none;">
      <div id="profileBanner" class="profile-banner"></div>
      <div class="card">
        <div class="profile-header">
          <div class="avatar-wrap">
            <img id="profile-photo" class="profile-avatar" alt="">
          </div>
          <div>
            <h3 id="profile-name">Your Name</h3>
            <div id="profile-handle" class="muted">@username</div>
            <p id="bio-view" class="muted">Add a short bio to introduce yourself.</p>
          </div>
        </div>
      </div>
      <div class="card">
        <h4>Your Uploads</h4>
        <div id="profile-grid" class="grid"></div>
        <div id="profile-empty" class="muted" style="display:none;">No uploads yet.</div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="tab-settings" style="display:none;">
      <div class="settings-section">
        <h3>Account</h3>
        <div class="settings-item"><div><i class="fa fa-trash"></i> Delete Account</div><button id="deleteAccount" class="ghost">Delete</button></div>
      </div>

      <div class="settings-section">
        <h3>Legal & Policy</h3>
        <p class="muted small">
          INTAKEE supports freedom of speech and creative expression. Users are responsible for their own content.
        </p>
        <a href="#guidelines" class="muted">Community Guidelines</a><br>
        <a href="#terms" class="muted">Terms of Service</a><br>
        <a href="#privacy" class="muted">Privacy Policy</a><br>
        <a href="mailto:intakee2025@gmail.com" class="muted">Contact: intakee2025@gmail.com</a><br>
        <a href="mailto:intakee2025@gmail.com?subject=Report%20Content" class="muted">Report Content</a>
      </div>

      <div class="settings-section">
        <div class="settings-item danger">
          <div><i class="fa fa-right-from-bracket"></i> Logout</div>
          <button id="settings-logout" class="ghost">Log out</button>
        </div>
      </div>
    </section>

    <!-- LEGAL PAGES -->
    <section id="tab-guidelines" style="display:none;">
      <div class="legal-page">
        <a href="#settings" class="muted small">← Back</a>
        <h2>Community Guidelines</h2>
        <div id="guidelines-content" class="legal-content"></div>
      </div>
    </section>
    <section id="tab-terms" style="display:none;">
      <div class="legal-page">
        <a href="#settings" class="muted small">← Back</a>
        <h2>Terms of Service</h2>
        <div id="terms-content" class="legal-content"></div>
      </div>
    </section>
    <section id="tab-privacy" style="display:none;">
      <div class="legal-page">
        <a href="#settings" class="muted small">← Back</a>
        <h2>Privacy Policy</h2>
        <div id="privacy-content" class="legal-content"></div>
      </div>
    </section>
  </main>

  <!-- LOCK OVERLAY -->
  <div id="lock-overlay" class="lock-overlay hidden">
    <div class="lock-box">
      <i class="fa fa-lock fa-2x"></i>
      <p>This content is age restricted. Please sign in to continue.</p>
      <button id="lockSignInBtn" class="primary">Sign In</button>
    </div>
  </div>

  <!-- MINI PLAYER -->
  <div id="mini-player" class="mini-player" hidden>
    <div class="mp-left">
      <div class="mp-art" id="mp-art"></div>
      <div class="mp-meta">
        <div id="mp-title" class="mp-title">—</div>
        <div id="mp-sub" class="mp-sub muted small">—</div>
      </div>
    </div>
    <div class="mp-controls">
      <button id="mp-play" class="icon-btn"><i class="fa fa-play"></i></button>
      <button id="mp-close" class="icon-btn"><i class="fa fa-xmark"></i></button>
    </div>
    <audio id="mp-audio" preload="metadata"></audio>
  </div>

  <!-- NAV -->
  <nav class="bottom-nav">
    <a href="#home" data-tab="home" class="active"><i class="fa fa-home"></i><span>Home</span></a>
    <a href="#videos" data-tab="videos"><i class="fa fa-video"></i><span>Videos</span></a>
    <a href="#podcast" data-tab="podcast"><i class="fa fa-podcast"></i><span>Podcast</span></a>
    <a href="#upload" data-tab="upload"><i class="fa fa-plus-circle"></i><span>Upload</span></a>
    <a href="#clips" data-tab="clips"><i class="fa fa-bolt"></i><span>Clips</span></a>
    <a href="#profile" data-tab="profile"><i class="fa fa-user"></i><span>Profile</span></a>
    <a href="#settings" data-tab="settings"><i class="fa fa-gear"></i><span>Settings</span></a>
  </nav>

  <!-- AUTH MODAL -->
  <dialog id="authDialog">
    <form method="dialog" style="text-align:right;margin-bottom:8px;">
      <button aria-label="Close">✕</button>
    </form>
    <h3>Create account</h3>
    <form id="authSignUpForm" style="display:grid;gap:8px;">
      <input id="signUpName" type="text" placeholder="Display name (optional)">
      <input id="signUpEmail" type="email" placeholder="Email" required>
      <input id="signUpPassword" type="password" placeholder="Password (min 6)" required>
      <label class="small muted" style="display:flex;align-items:center;gap:6px;">
        <input id="signUpAge" type="checkbox" required> I confirm I am 13 or older
      </label>
      <button type="submit" class="primary">Sign up</button>
    </form>
    <hr>
    <h3>Sign in</h3>
    <form id="authSignInForm" style="display:grid;gap:8px;">
      <input id="signInEmail" type="email" placeholder="Email" required>
      <input id="signInPassword" type="password" placeholder="Password" required>
      <button type="submit">Sign in</button>
    </form>
  </dialog>

  <!-- FIREBASE INIT -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";
    import { getStorage } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-storage.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD0_tL8PxUvGT7JqCBj3tuL7s3Kipl5E6g",
      authDomain: "intakee-5785e.firebaseapp.com",
      projectId: "intakee-5785e",
      storageBucket: "intakee-5785e.appspot.com",
      messagingSenderId: "40666230072",
      appId: "1:40666230072:web:49dd5e7db91c8a38b565cd"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const storage = getStorage(app);
    window.firebaseRefs = { app, auth, db, storage, onAuthStateChanged };
  </script>

  <!-- MAIN JS -->
  <script type="module" src="script.js?v=launch1"></script>
</body>
</html>
