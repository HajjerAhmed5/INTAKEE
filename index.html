<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>INTAKEE — Videos, Podcasts, and Clips</title>
<meta name="description" content="INTAKEE is the all-in-one platform for videos, podcasts, and clips — freedom to create, simple to share.">
<link rel="canonical" href="https://intakee.vercel.app/">

<!-- Social -->
<meta property="og:type" content="website">
<meta property="og:title" content="INTAKEE — Videos, Podcasts, and Clips">
<meta property="og:description" content="All-in-one platform for videos, podcasts, and clips.">
<meta property="og:url" content="https://intakee.vercel.app/">
<meta property="og:image" content="/og-image.jpg">
<meta name="twitter:card" content="summary_large_image">

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<style>
  :root { color-scheme: dark; }
  *{ box-sizing:border-box; }
  body{ margin:0; background:#000; color:#fff; font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; }

  /* Header */
  header{
    display:flex; align-items:center; gap:12px;
    padding:18px 16px; border-bottom:1px solid #111;
  }
  .brand img{ height:120px; width:auto; border-radius:12px; opacity:.9; filter:drop-shadow(0 0 12px rgba(255,255,255,.06)); }
  .spacer{ flex:1; }
  #searchWrap{ display:flex; margin-left:auto; }
  .search-bar{ display:flex; align-items:center; gap:8px; background:#0c0c0c; border:1px solid #2a2a2a; padding:8px 10px; border-radius:10px; width:420px; max-width:52vw; }
  .search-bar input{ border:none; outline:none; background:transparent; color:#fff; width:100%; }
  .auth{ display:flex; gap:10px; margin-left:12px; }
  button{ padding:9px 14px; border-radius:10px; border:1px solid #2a2a2a; background:#141414; color:#fff; cursor:pointer; }
  button.primary{ background:#1a1a1a; border-color:#3a3a3a; }
  button.ghost{ background:transparent; }
  button:hover{ background:#191919; }
  button[disabled]{ opacity:.6; cursor:not-allowed; }

  /* Layout */
  main{ max-width:1000px; margin:0 auto; padding:16px; padding-bottom:88px; }
  .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .muted{ color:#b7b7b7; opacity:.85; font-size:.95rem; }
  .card{ background:#0e0e0e; border:1px solid #1a1a1a; border-radius:14px; padding:14px; margin:12px 0; box-shadow:0 4px 18px rgba(0,0,0,.35); }
  input[type="text"], input[type="email"], input[type="password"], select{
    padding:10px 12px; border-radius:10px; border:1px solid #2a2a2a; background:#0c0c0c; color:#fff;
  }
  input[type="file"]{ color:#aaa; }
  textarea{ width:100%; min-height:80px; padding:10px 12px; border-radius:10px; border:1px solid #2a2a2a; background:#0c0c0c; color:#fff; }

  /* Section header + right search */
  .section-head{ display:flex; align-items:center; gap:12px; margin:0 0 6px; }
  .section-search{ display:flex; align-items:center; gap:8px; background:#0c0c0c; border:1px solid #2a2a2a; padding:8px 10px; border-radius:10px; width:340px; max-width:50vw; margin-left:auto; }
  .section-search input{ border:none; outline:none; background:transparent; color:#fff; width:100%; }

  /* Pills */
  .pills{ display:flex; gap:8px; flex-wrap:wrap; margin:8px 0 4px; }
  .pill{ padding:6px 10px; border:1px solid #2a2a2a; border-radius:999px; font-size:.85rem; background:#0f0f0f; cursor:pointer; }
  .pill.active{ background:#151515; border-color:#3a3a3a; color:#fff; }

  /* Bottom nav */
  .bottom-nav{ position:fixed; bottom:0; left:0; right:0; background:#0b0b0b; border-top:1px solid #151515; display:grid; grid-template-columns:repeat(7,1fr); gap:4px; padding:8px 6px; z-index:50; }
  .bottom-nav a{ color:#aaa; text-decoration:none; display:flex; flex-direction:column; align-items:center; gap:4px; font-size:.75rem; padding:6px 4px; border-radius:10px; }
  .bottom-nav a.active, .bottom-nav a:hover{ color:#fff; background:#111; }

  /* -------- PROFILE -------- */
  .profile-banner{
    height:200px; border-radius:14px; border:1px solid #1a1a1a; background:#111 center/cover no-repeat;
    position:relative; overflow:hidden; margin:12px 0;
  }
  .profile-banner::after{
    content:""; position:absolute; inset:0; background:linear-gradient(to bottom, rgba(0,0,0,.0), rgba(0,0,0,.35));
  }
  .profile-banner .add-btn{
    position:absolute; right:10px; bottom:10px;
    width:30px; height:30px; border-radius:50%;
    background:#fff; color:#000; display:flex; align-items:center; justify-content:center;
    font-weight:700; border:none; cursor:pointer;
  }
  .profile-header{
    display:grid; grid-template-columns: 110px 1fr auto; gap:14px; align-items:center;
  }
  .avatar-wrap{ position:relative; width:110px; height:110px; margin-top:-55px; }
  .profile-avatar{
    width:110px; height:110px; border-radius:50%; background:#1a1a1a; object-fit:cover; border:1px solid #262626;
  }
  .avatar-wrap .add-btn{
    position:absolute; right:0; bottom:0;
    width:28px; height:28px; border-radius:50%;
    background:#fff; color:#000; border:none; font-weight:700; cursor:pointer;
  }
  .profile-actions{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
  .stat-row{ display:flex; gap:18px; flex-wrap:wrap; margin-top:8px; }
  .stat-row .muted strong{ color:#fff; }

  .profile-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-top:12px; }
  .grid{ margin-top:10px; display:grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap:10px; }
  .grid .tile{ background:#0f0f0f; border:1px solid #1a1a1a; border-radius:12px; overflow:hidden; }
  .grid .tile .thumb{ width:100%; aspect-ratio:16/9; background:#111; object-fit:cover; display:block; }
  .grid .tile .meta{ padding:8px 10px; font-size:.9rem; }

  /* -------- SETTINGS bits -------- */
  .settings-section{ background:#0e0e0e; border:1px solid #1a1a1a; border-radius:14px; padding:14px; margin:12px 0; }
  .settings-item{ display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-top:1px solid #151515; }
  .settings-item:first-child{ border-top:none; }
  .settings-left{ display:flex; align-items:center; gap:10px; }
  .toggle{ width:42px; height:24px; border-radius:999px; border:1px solid #2a2a2a; background:#141414; position:relative; cursor:pointer; }
  .toggle::after{ content:""; position:absolute; top:2px; left:2px; width:20px; height:20px; border-radius:50%; background:#2b2b2b; transition:transform .15s ease; }
  .toggle[data-on="true"]{ background:#1c1c1c; border-color:#3a3a3a; }
  .toggle[data-on="true"]::after{ transform:translateX(18px); }

  .disclosure{ width:100%; text-align:left; padding:10px 12px; border:1px solid #1a1a1a; border-radius:10px; background:#101010; }
  .disclosure[aria-expanded="true"]{ background:#121212; }
  .disclosure-panel{ margin-top:10px; border:1px solid #1a1a1a; border-radius:10px; padding:12px; background:#0f0f0f; }
  .settings-links a{ color:#ddd; text-decoration:none; display:block; padding:6px 0; }
  .settings-links a:hover{ text-decoration:underline; }
</style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="brand"><img src="logo.png" alt="INTAKEE"></div>
    <div class="spacer"></div>
    <div id="searchWrap" class="search-bar">
      <i class="fa fa-search" style="opacity:.6;"></i>
      <input id="global-search" type="text" placeholder="Search…" />
    </div>
    <div class="auth">
      <!-- this id is used by script.js to toggle visibility -->
      <button id="home-login-btn" onclick="document.getElementById('auth-modal').showModal()">Login / Sign Up</button>
      <button id="logoutBtn" style="display:none;">Logout</button>
    </div>
  </header>

  <main>
    <!-- HOME -->
    <section id="home" class="tab">
      <div class="row" style="justify-content:space-between;align-items:center;margin-top:8px;">
        <h2 style="margin:0;">Trending</h2>
        <div class="pills">
          <button class="pill" data-filter="all">All</button>
          <button class="pill" data-filter="video">Videos</button>
          <button class="pill" data-filter="podcast">Podcasts</button>
          <button class="pill" data-filter="clip">Clips</button>
          <button class="pill" data-filter="following">Following</button>
          <button class="pill" data-filter="new">Newest</button>
        </div>
      </div>
      <div id="trending-feed"></div>
    </section>

    <!-- VIDEOS -->
    <section id="videos" class="tab" style="display:none;">
      <div class="section-head">
        <h3 style="margin:0;">Videos</h3>
        <div class="section-search" id="videosSearchWrap">
          <i class="fa fa-search" style="opacity:.6;"></i>
          <input id="videosSearch" type="text" placeholder="Search videos…"/>
        </div>
      </div>
      <div id="video-feed"></div>
    </section>

    <!-- PODCASTS -->
    <section id="podcast" class="tab" style="display:none;">
      <div class="section-head">
        <h3 style="margin:0;">Podcasts</h3>
        <div class="section-search" id="podcastSearchWrap">
          <i class="fa fa-search" style="opacity:.6;"></i>
          <input id="podcastSearch" type="text" placeholder="Search podcasts…"/>
        </div>
      </div>
      <div id="podcast-feed"></div>
    </section>

    <!-- UPLOAD -->
    <section id="upload" class="tab card" style="display:none;">
      <h3 style="margin:0 0 12px;">Upload</h3>

      <p id="upload-warning" class="muted" style="margin:6px 0 12px;">You must be logged in to upload content.</p>

      <div class="row" style="gap:12px;align-items:flex-start;">
        <div style="flex:1;min-width:220px;">
          <label for="upload-type">Choose type</label>
          <select id="upload-type" style="width:100%;margin-top:6px;">
            <option value="video">Video</option>
            <option value="clip">Clip</option>
            <option value="podcast-audio">Podcast (Audio)</option>
            <option value="podcast-video">Podcast (Video)</option>
          </select>
        </div>
        <div style="flex:2;min-width:260px;">
          <label for="upload-title">Title</label>
          <input id="upload-title" type="text" placeholder="Add a title" style="width:100%;margin-top:6px;">
        </div>
      </div>

      <div class="row" style="gap:12px;align-items:flex-start;margin-top:12px;">
        <div style="flex:1;min-width:220px;">
          <label for="upload-thumbnail" id="upload-file-label">Thumbnail (cover image)</label>
          <input id="upload-thumbnail" type="file" accept="image/*" style="width:100%;margin-top:6px;">
        </div>
        <div style="flex:2;min-width:260px;">
          <label for="upload-file">File</label>
          <input id="upload-file" type="file" accept="video/*,audio/*" style="width:100%;margin-top:6px;">
        </div>
      </div>

      <label for="upload-description" style="margin-top:12px; display:block;">Description</label>
      <textarea id="upload-description" placeholder="Write a short description…"></textarea>

      <div class="row" style="margin-top:14px;gap:10px;">
        <button id="upload-btn" class="primary" data-require-auth onclick="handleUpload()">Upload</button>
        <button class="ghost" data-require-auth onclick="goLive()">Go Live</button>
      </div>
      <p id="upload-help" class="muted" style="margin-top:8px;">Processing starts after upload. You’ll be notified when it’s ready.</p>
    </section>

    <!-- CLIPS -->
    <section id="clips" class="tab" style="display:none;">
      <div class="section-head">
        <h3 style="margin:0;">Clips</h3>
        <div class="section-search" id="clipsSearchWrap">
          <i class="fa fa-search" style="opacity:.6;"></i>
          <input id="clipsSearch" type="text" placeholder="Search clips…"/>
        </div>
      </div>
      <div id="clips-feed"></div>
    </section>

    <!-- PROFILE -->
    <section id="profile" class="tab" style="display:none;">
      <!-- Banner with + -->
      <div id="profileBanner" class="profile-banner">
        <button id="btn-change-banner" class="add-btn owner-only" title="Change banner" style="display:none;">+</button>
      </div>

      <div class="card">
        <div class="profile-header">
          <div class="avatar-wrap">
            <img id="profile-photo" src="" alt="" class="profile-avatar">
            <button id="btn-change-avatar" class="add-btn owner-only" title="Change photo" style="display:none;">+</button>
          </div>

          <div>
            <h3 id="profile-name" style="margin:0;">Your Name</h3>
            <div id="profile-handle" class="muted">@username</div>
            <div id="profile-bio" class="muted" style="margin-top:8px;" disabled>Add a short bio to introduce yourself.</div>
            <div class="stat-row">
              <div class="muted"><strong id="stat-posts">0</strong> Posts</div>
              <div class="muted"><strong id="stat-followers">0</strong> Followers</div>
              <div class="muted"><strong id="stat-following">0</strong> Following</div>
              <div class="muted"><strong id="stat-likes">0</strong> Likes</div>
            </div>
          </div>

          <div class="profile-actions">
            <button class="primary">Follow</button>
            <button class="ghost">Share Profile</button>
            <button class="ghost owner-only" style="display:none;">Edit Profile</button>
          </div>
        </div>
      </div>

      <!-- Hidden file inputs -->
      <input id="bannerInput" type="file" accept="image/*" hidden>
      <input id="avatarInput" type="file" accept="image/*" hidden>
    </section>

    <!-- SETTINGS -->
    <section id="settings" class="tab" style="display:none;">
      <div class="settings-section">
        <h3 style="margin:0 0 8px;">Account</h3>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-user"></i><span>Name, Username, Email</span></div><button class="ghost">Edit</button></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-key"></i><span>Change Password</span></div><button class="ghost">Update</button></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-trash"></i><span>Delete Account</span></div><button class="ghost">Start</button></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-right-from-bracket"></i><span>Logout</span></div><button id="settings-logout" class="ghost">Logout</button></div>
      </div>

      <div class="settings-section">
        <h3 style="margin:0 0 8px;">Privacy & Safety</h3>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-lock"></i><span>Private account</span></div><div class="toggle" id="toggle-private" data-on="false" role="switch" aria-checked="false"></div></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-ban"></i><span>Blocked accounts</span></div><button class="ghost">Manage</button></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-comments"></i><span>Comments</span></div>
          <select><option>Everyone</option><option>Followers</option><option>No one</option></select>
        </div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-eye-slash"></i><span>Hide sensitive content</span></div><div class="toggle" id="toggle-sensitive" data-on="false" role="switch" aria-checked="false"></div></div>
        <div class="settings-item"><div class="settings-left"><i class="fa fa-flag"></i><span>Report a problem</span></div><button class="ghost">Report</button></div>
      </div>

      <div class="settings-section">
        <h3 style="margin:0 0 8px;">Legal & Policy</h3>
        <button id="legalToggle" class="disclosure" aria-expanded="false">View Legal & Policy</button>
        <div id="legalPanel" class="disclosure-panel" hidden>
          <h4 style="margin:0 0 8px;">Content Responsibility Disclaimer</h4>
          <p class="muted" style="margin:0 0 10px;">
            INTAKEE supports freedom of speech, creativity, and open discussion. Users are fully responsible for content they upload or share. INTAKEE does not endorse, verify, or assume legal responsibility for user-generated content. Content that violates laws, promotes violence or harassment, or contains explicit material may be removed.
          </p>
          <h4 style="margin:10px 0 8px;">Privacy Commitment</h4>
          <p class="muted" style="margin:0 0 10px;">
            We do not sell, rent, or share personal data with advertisers or third parties. Personal information is collected only to run core features. We use secure, industry-standard services. Your content remains your property.
          </p>
          <h4 style="margin:10px 0 8px;">Community Guidelines</h4>
          <ul class="muted" style="margin:0 0 10px; padding-left:18px;">
            <li>Follow the law; no threats, hate speech, or harassment.</li>
            <li>No nudity or explicit material.</li>
            <li>No impersonation or deliberate misinformation.</li>
            <li>Repeated or severe violations may lead to removal or suspension.</li>
          </ul>
          <div class="settings-links">
            <a href="#">Community Guidelines</a>
            <a href="#">Terms of Service</a>
            <a href="#">Privacy Policy</a>
            <a href="mailto:intakee2025@gmail.com">Contact: intakee2025@gmail.com</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Tabs -->
  <nav class="bottom-nav">
    <a href="#home"    data-tab="home" class="tab-btn active"><i class="fa fa-home"></i><span>Home</span></a>
    <a href="#videos"  data-tab="videos" class="tab-btn"><i class="fa fa-video"></i><span>Videos</span></a>
    <a href="#podcast" data-tab="podcast" class="tab-btn"><i class="fa fa-podcast"></i><span>Podcast</span></a>
    <a href="#upload"  data-tab="upload" class="tab-btn"><i class="fa fa-plus-circle"></i><span>Upload</span></a>
    <a href="#clips"   data-tab="clips" class="tab-btn"><i class="fa fa-bolt"></i><span>Clips</span></a>
    <a href="#profile" data-tab="profile" class="tab-btn"><i class="fa fa-user"></i><span>Profile</span></a>
    <a href="#settings"data-tab="settings" class="tab-btn"><i class="fa fa-gear"></i><span>Settings</span></a>
  </nav>

  <!-- 🔹 AUTH CONTROLS (for auth.js UI toggles) -->
  <div data-anon-only>
    <button onclick="document.getElementById('auth-modal').showModal()">Sign in / Create Account</button>
  </div>

  <div data-authed-only style="display:none;">
    Signed in as <strong data-user-name></strong>
    <button id="logout-btn">Log out</button>
  </div>

  <!-- 🔹 AUTH MODAL -->
  <dialog id="auth-modal">
    <form method="dialog" style="text-align:right">
      <button>✕</button>
    </form>

    <h3>Create account</h3>
    <form id="signup-form">
      <input name="displayName" type="text" placeholder="Display name (optional)" />
      <input name="email" type="email" placeholder="Email" required />
      <input name="password" type="password" placeholder="Password (min 6)" required />
      <button type="submit">Sign up</button>
    </form>

    <hr />

    <h3>Sign in</h3>
    <form id="login-form">
      <input name="email" type="email" placeholder="Email" required />
      <input name="password" type="password" placeholder="Password" required />
      <button type="submit">Sign in</button>
    </form>
  </dialog>

  <!-- 🔹 JS LINKS (order matters) -->
  <script type="module" src="./js/firebase-init.js"></script>
  <script type="module" src="./js/auth.js"></script>
  <script type="module" src="./script.js"></script>
</body>
</html>
