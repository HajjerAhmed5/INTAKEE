<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INTAKEE — Videos, Podcasts & Clips</title>
  <meta name="description" content="INTAKEE — freedom to create, simple to share. Watch videos, podcasts, and clips all in one place." />
  <link rel="canonical" href="https://intakee.vercel.app/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="INTAKEE — Videos, Podcasts & Clips" />
  <meta property="og:description" content="All-in-one platform for videos, podcasts, and clips." />
  <meta property="og:url" content="https://intakee.vercel.app/" />
  <meta property="og:image" content="/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet" />

  <style>
    body { margin:0; font-family:system-ui,Arial,sans-serif; background:#000; color:#fff; overflow-x:hidden; }
    .fade-slide { animation:fadeSlide .5s ease; }
    @keyframes fadeSlide { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
    header { position:sticky; top:0; background:#0a0a0a; display:flex; align-items:center; padding:10px 16px; z-index:1000; }
    .search-bar { display:flex; align-items:center; background:#111; border-radius:10px; padding:6px 10px; flex:1; max-width:480px; margin:0 12px; }
    .search-bar input { width:100%; background:transparent; border:none; color:#fff; outline:none; }
    .bottom-nav { position:fixed; bottom:0; left:0; right:0; display:grid; grid-template-columns:repeat(7,1fr); background:#0b0b0b; border-top:1px solid #111; }
    .bottom-nav a { text-align:center; padding:8px 0; color:#aaa; font-size:.8rem; }
    .bottom-nav a.active { color:#fff; }
    main { padding:20px; padding-bottom:100px; max-width:1000px; margin:auto; }
    .card { background:#101010; border-radius:12px; padding:14px; margin:10px 0; border:1px solid #1a1a1a; }
    .auth button.primary { background:#fff; color:#000; border-radius:8px; padding:8px 12px; }
    dialog { background:#101010; color:#fff; border-radius:12px; border:1px solid #222; width:90%; max-width:400px; }
    dialog::backdrop { background:rgba(0,0,0,0.6); }
    input,textarea,select { background:#111; border:1px solid #333; color:#fff; padding:8px; border-radius:8px; width:100%; }
    .fade { transition:opacity .25s ease; }
    @media(max-width:700px){ header img{height:70px;} .search-bar{max-width:60%;} }
  </style>
</head>

<body class="dark-theme">
  <!-- HEADER -->
  <header class="fade-slide">
    <img src="logo.png" alt="INTAKEE Logo" style="height:90px;">
    <div class="search-bar">
      <i class="fa fa-search"></i>
      <input id="mainSearchBar" placeholder="Search..." autocomplete="off" />
    </div>
    <button id="openAuth" class="primary">Login / Sign Up</button>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <section id="tab-home" class="fade-slide">
      <h2>Trending</h2>
      <div class="pills">
        <button class="pill active" data-filter="all">All</button>
        <button class="pill" data-filter="video">Videos</button>
        <button class="pill" data-filter="podcast">Podcasts</button>
        <button class="pill" data-filter="clip">Clips</button>
      </div>
      <div id="home-feed" class="feed-grid"></div>
    </section>

    <section id="tab-videos" style="display:none;" class="fade-slide">
      <h3>Videos</h3>
      <div id="videos-feed" class="feed-grid"></div>
    </section>

    <section id="tab-podcast" style="display:none;" class="fade-slide">
      <h3>Podcasts</h3>
      <div id="podcast-feed" class="feed-grid"></div>
    </section>

    <section id="tab-upload" style="display:none;" class="fade-slide card">
      <h3>Upload</h3>
      <select id="uploadTypeSelect">
        <option value="video">Video</option>
        <option value="clip">Clip</option>
        <option value="podcast-audio">Podcast (Audio)</option>
      </select>
      <input id="uploadTitleInput" placeholder="Title">
      <textarea id="uploadDescInput" placeholder="Description"></textarea>
      <label>Thumbnail</label><input id="uploadThumbInput" type="file" accept="image/*">
      <label>File</label><input id="uploadFileInput" type="file" accept="video/*,audio/*">
      <button id="btnUpload" class="primary">Upload</button>
      <button id="goLiveBtn" class="ghost">Go Live</button>
    </section>

    <section id="tab-profile" style="display:none;" class="fade-slide">
      <div class="card">
        <img id="profile-photo" src="" class="profile-avatar" style="width:100px;border-radius:50%;">
        <h3 id="profile-name">Your Name</h3>
        <p id="bio-view" class="muted">Add a bio...</p>
        <button id="btn-edit-profile" class="primary">Edit Profile</button>
        <div id="bio-edit-wrap" style="display:none;">
          <input id="profileNameInput" placeholder="Your name">
          <textarea id="profileBioInput" placeholder="Your bio..."></textarea>
          <button id="btnSaveProfile" class="primary">Save</button>
          <button id="bio-cancel" class="ghost">Cancel</button>
        </div>
      </div>
      <div id="profile-grid" class="grid"></div>
    </section>

    <section id="tab-settings" style="display:none;" class="fade-slide">
      <div class="settings-section card">
        <h3>Account</h3>
        <button id="settings-logout" class="ghost">Log out</button>
        <button id="forgotPasswordBtn" class="ghost">Forgot Password</button>
        <button id="blockUserBtn" class="ghost danger">Block User</button>
      </div>
      <div class="settings-section card">
        <h3>Privacy</h3>
        <label><input id="toggle-private" type="checkbox"> Private Account</label>
      </div>
    </section>
  </main>

  <!-- MINI PLAYER -->
  <div id="mini-player" hidden>
    <audio id="mp-audio" preload="metadata"></audio>
    <button id="mp-play" class="icon-btn"><i class="fa fa-play"></i></button>
    <button id="mp-close" class="icon-btn"><i class="fa fa-xmark"></i></button>
  </div>

  <!-- BOTTOM NAV -->
  <nav class="bottom-nav fade">
    <a href="#home" data-tab="home" class="active"><i class="fa fa-home"></i><span>Home</span></a>
    <a href="#videos" data-tab="videos"><i class="fa fa-video"></i><span>Videos</span></a>
    <a href="#podcast" data-tab="podcast"><i class="fa fa-podcast"></i><span>Podcast</span></a>
    <a href="#upload" data-tab="upload"><i class="fa fa-plus-circle"></i><span>Upload</span></a>
    <a href="#profile" data-tab="profile"><i class="fa fa-user"></i><span>Profile</span></a>
    <a href="#settings" data-tab="settings"><i class="fa fa-gear"></i><span>Settings</span></a>
  </nav>

  <!-- AUTH / FORGOT PASSWORD MODAL -->
  <dialog id="authDialog" class="fade-slide">
    <form method="dialog" style="text-align:right;"><button aria-label="Close">✕</button></form>
    <h3>Create account</h3>
    <input id="signupEmail" type="email" placeholder="Email" />
    <input id="signupPassword" type="password" placeholder="Password (min 6)" />
    <input id="signupUsername" type="text" placeholder="Choose a username" />
    <label><input id="signupAgeConfirm" type="checkbox" /> I confirm I am 13 or older.</label>
    <button id="signupBtn" type="button">Sign Up</button>
    <hr>
    <h3>Sign in</h3>
    <input id="loginEmail" type="email" placeholder="Email" />
    <input id="loginPassword" type="password" placeholder="Password" />
    <button id="loginBtn" type="button">Login</button>
    <button id="forgotPassBtn" type="button" class="ghost">Forgot Password?</button>
  </dialog>

  <!-- FIREBASE CONFIG -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";
    import { getStorage } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-storage.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDp_tLBxUPvlvG7JqCBj3ItuL7sKjpL56g",
      authDomain: "intakee-5785e.firebaseapp.com",
      projectId: "intakee-5785e",
      storageBucket: "intakee-5785e.appspot.com",
      messagingSenderId: "140666230072",
      appId: "1:140666230072:web:49dd5e7db91c8a38b56c5d",
      measurementId: "G-3C2YDV6TG6"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const storage = getStorage(app);

    window.firebaseRefs = { app, auth, db, storage, onAuthStateChanged };
  </script>

  <!-- MAIN LOGIC -->
  <script type="module" src="script.js?v=final"></script>
</body>
</html>
